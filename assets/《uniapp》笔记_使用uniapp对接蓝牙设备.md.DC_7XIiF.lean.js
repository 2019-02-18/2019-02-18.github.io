import{bV as t,aZ as h,aL as k,u as r,G as l,v as i,H as a,I as p,bJ as e}from"./chunks/framework.DW3NRN-T.js";const C=JSON.parse('{"title":"使用uniapp对接蓝牙设备","description":"","frontmatter":{"title":"使用uniapp对接蓝牙设备","date":"2024-03-30T15:20:23.000Z","permalink":"/pages/35c361/","categories":["《uniapp》笔记"],"tags":[null],"author":{"name":"刘志伟","link":"https://github.com/2019-02-18"},"head":[["meta",{"property":"og:title","content":"使用uniapp对接蓝牙设备"}],["meta",{"property":"og:description","content":""}],["meta",{"property":"og:url","content":"https://lzw1997.com/《uniapp》笔记/使用uniapp对接蓝牙设备.html"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"property":"article:author","content":"刘志伟"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"使用uniapp对接蓝牙设备\\",\\"author\\":{\\"@type\\":\\"Person\\",\\"name\\":\\"刘志伟\\"},\\"datePublished\\":\\"2024-03-30T15:20:23.000Z\\",\\"publisher\\":{\\"@type\\":\\"Person\\",\\"name\\":\\"刘志伟\\"},\\"url\\":\\"https://lzw1997.com/《uniapp》笔记/使用uniapp对接蓝牙设备.html\\"}"]]},"headers":[{"level":2,"title":"1. 初始化蓝牙","slug":"_1-初始化蓝牙","link":"#_1-初始化蓝牙","children":[]},{"level":2,"title":"2. 搜索蓝牙设备","slug":"_2-搜索蓝牙设备","link":"#_2-搜索蓝牙设备","children":[]},{"level":2,"title":"3. 发现外围设备","slug":"_3-发现外围设备","link":"#_3-发现外围设备","children":[]},{"level":2,"title":"4. 停止搜索蓝牙设备","slug":"_4-停止搜索蓝牙设备","link":"#_4-停止搜索蓝牙设备","children":[]},{"level":2,"title":"5. 连接低功耗蓝牙设备","slug":"_5-连接低功耗蓝牙设备","link":"#_5-连接低功耗蓝牙设备","children":[]},{"level":2,"title":"6. 获取蓝牙设备所有服务","slug":"_6-获取蓝牙设备所有服务","link":"#_6-获取蓝牙设备所有服务","children":[]},{"level":2,"title":"7. 获取蓝牙特征","slug":"_7-获取蓝牙特征","link":"#_7-获取蓝牙特征","children":[]},{"level":2,"title":"8. 启用蓝牙设备特征值变化时的 notify 功能","slug":"_8-启用蓝牙设备特征值变化时的-notify-功能","link":"#_8-启用蓝牙设备特征值变化时的-notify-功能","children":[]},{"level":2,"title":"9. 监听低功耗蓝牙设备的特征值变化","slug":"_9-监听低功耗蓝牙设备的特征值变化","link":"#_9-监听低功耗蓝牙设备的特征值变化","children":[]},{"level":2,"title":"重点！！！！","slug":"重点","link":"#重点","children":[]},{"level":2,"title":"10. 对需要操作的特征值进行读、写操作","slug":"_10-对需要操作的特征值进行读、写操作","link":"#_10-对需要操作的特征值进行读、写操作","children":[]}],"relativePath":"《uniapp》笔记/使用uniapp对接蓝牙设备.md","filePath":"《uniapp》笔记/使用uniapp对接蓝牙设备.md","lastUpdated":1711784187000}'),E={name:"《uniapp》笔记/使用uniapp对接蓝牙设备.md"},d={tabindex:"0"},g={id:"重点",tabindex:"-1"};function y(c,s,u,o,b,F){const n=h("font");return k(),r("div",null,[s[32]||(s[32]=l("",4)),i("ul",null,[i("li",null,[s[1]||(s[1]=a("App 端目前仅支持发现",-1)),p(n,{color:"#dd0000"},{default:e(()=>[...s[0]||(s[0]=[a("ble 蓝牙设备",-1)])]),_:1}),s[2]||(s[2]=a(" ，更多蓝牙设备发现，可以使用 ",-1)),s[3]||(s[3]=i("a",{href:"https://ask.dcloud.net.cn/article/114",target:"_blank",rel:"noreferrer"},"Native.js",-1)),s[4]||(s[4]=a("。也可以在插件市场获取",-1)),s[5]||(s[5]=i("a",{href:"https://ext.dcloud.net.cn/search?q=%E8%93%9D%E7%89%99&cat1=5&cat2=51&orderBy=UpdatedDate",target:"_blank",rel:"noreferrer"},"原生插件",-1))])]),s[33]||(s[33]=l("",4)),i("p",null,[s[7]||(s[7]=a("使用 ",-1)),s[8]||(s[8]=i("code",null,"uni.startBluetoothDevicesDiscovery(OBJECT)",-1)),s[9]||(s[9]=a(" 方法开始搜索蓝牙设备。 安卓如果搜索不到蓝牙设备，需要",-1)),p(n,{color:"#dd0000"},{default:e(()=>[...s[6]||(s[6]=[a("开启手机位置信息",-1)])]),_:1}),s[10]||(s[10]=a("。 此操作比较耗费系统资源，请在搜索并连接到设备后调用 ",-1)),s[11]||(s[11]=i("code",null,"uni.stopBluetoothDevicesDiscovery(OBJECT)",-1)),s[12]||(s[12]=a(" 方法停止搜索。",-1))]),s[34]||(s[34]=l("",11)),i("p",null,[s[14]||(s[14]=a("使用 ",-1)),s[15]||(s[15]=i("code",null,"uni.getBLEDeviceServices(OBJECT)",-1)),s[16]||(s[16]=a(" 方法获取蓝牙设备所有服务。 在调用 getBLEDeviceServices 的时",-1)),p(n,{color:"#dd0000"},{default:e(()=>[...s[13]||(s[13]=[a("不要直接调用一定要设置时间间隔，延迟调用",-1)])]),_:1})]),s[35]||(s[35]=l("",5)),i("p",null,[s[18]||(s[18]=a("使用 ",-1)),s[19]||(s[19]=i("code",null,"uni.notifyBLECharacteristicValueChange(OBJECT)",-1)),s[20]||(s[20]=a(" 方法启用蓝牙设备特征值变化时的 notify 功能。必须设备的特征值支持 notify 或者 indicate 才可以成功调用。APP 调用 uni.createBLEConnection 之后",-1)),p(n,{color:"#dd0000"},{default:e(()=>[...s[17]||(s[17]=[a("需要延时 2 秒",-1)])]),_:1}),s[21]||(s[21]=a("再调用 uni.notifyBLECharacteristicValueChange。",-1))]),s[36]||(s[36]=l("",3)),i("table",d,[s[28]||(s[28]=i("thead",null,[i("tr",null,[i("th",null,"属性"),i("th",null,"类型"),i("th",null,"说明")])],-1)),i("tbody",null,[s[25]||(s[25]=i("tr",null,[i("td",null,"deviceId"),i("td",null,"string"),i("td",null,"蓝牙设备 id")],-1)),s[26]||(s[26]=i("tr",null,[i("td",null,"serviceId"),i("td",null,"string"),i("td",null,"蓝牙特征值对应服务的 uuid")],-1)),s[27]||(s[27]=i("tr",null,[i("td",null,"characteristicId"),i("td",null,"string"),i("td",null,"蓝牙特征值的 uuid")],-1)),i("tr",null,[s[23]||(s[23]=i("td",null,"value",-1)),i("td",null,[p(n,{color:"#dd0000"},{default:e(()=>[...s[22]||(s[22]=[a("ArrayBuffer",-1)])]),_:1})]),s[24]||(s[24]=i("td",null,"特征值最新的值",-1))])])]),s[37]||(s[37]=i("p",null,[a("使用 "),i("code",null,"uni.onBLECharacteristicValueChange(CALLBACK)"),a(" 方法监听低功耗蓝牙设备的特征值变化。必须先启用 "),i("a",{href:"#8-启用蓝牙设备特征值变化时的-notify-功能"},"notifyBLECharacteristicValueChange"),a(" 接口才能接收到设备推送的 notification")],-1)),i("h2",g,[p(n,{color:"red"},{default:e(()=>[...s[29]||(s[29]=[a("重点！！！！",-1)])]),_:1}),s[30]||(s[30]=a()),s[31]||(s[31]=i("a",{class:"header-anchor",href:"#重点","aria-label":'Permalink to "<font color="red">重点！！！！</font>"'},"​",-1))]),s[38]||(s[38]=l("",5))])}const B=t(E,[["render",y]]);export{C as __pageData,B as default};
